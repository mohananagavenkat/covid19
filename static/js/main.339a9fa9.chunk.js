(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{20:function(e,t,a){e.exports=a(36)},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),l=(a(25),a(26),a(27),a(8));var i=function(){return c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("p",null,"CV19")),c.a.createElement("ul",null,c.a.createElement("li",null," ",c.a.createElement(l.b,{to:"/covid19"}," Home")),c.a.createElement("li",null," ",c.a.createElement(l.b,{to:"/covid19/about"}," About")),c.a.createElement("li",null," ",c.a.createElement(l.b,{to:"/covid19/contact"}," Contact"))))},s=a(5);a(33);var u=function(e){var t=Object(n.useState)("Loading..."),a=Object(s.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(null),i=Object(s.a)(l,2),u=i[0],m=i[1],d=0;Object(n.useEffect)((function(){fetch("https://api.covid19india.org/website_data.json").then((function(e){return e.json()})).then((function(e){m(e.factoids)}))}),[]),Object(n.useEffect)((function(){h()}),[u]);var h=function(){u&&u.length>1&&(o(u[d++]),setInterval((function(){d+1>u.length-1?d=0:d++,o(u[d])}),5500))};return c.a.createElement("div",{className:"advise"},c.a.createElement("p",null,r.banner))},m=a(10),d=a.n(m),h=a(19),v=a.n(h),f=(a(35),{label:{fontWeight:"bold"},select:{padding:".4rem"}});var p=function(e){var t=e.countries,a=e.onCountryChnage,n=e.selectedCountry;return c.a.createElement("div",null,c.a.createElement("label",{style:f.label,htmlFor:"country"},"Country : "),c.a.createElement("select",{style:f.select,name:"country",value:n,id:"country",onChange:function(e){return a(e.target.value)}},t.map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))))};var E=function(){var e={chart:{height:500},rangeSelector:{selected:0},xAxis:{range:6048e5,labels:{enabled:!0,x:-10,formatter:function(){return d.a.dateFormat("%e %b",this.value)}}},yAxis:{opposite:!0,labels:{align:"right",x:-10},lineWidth:1},tooltip:{formatter:function(){return["<b>"+d.a.dateFormat("%A, %B %e - %Y",this.x)+"</b>"].concat(this.points?this.points.map((function(e){return e.series.name+": "+Number(e.y).toLocaleString()})):[])},split:!0},series:[]},t=Object(n.useState)(e),a=Object(s.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)([]),i=Object(s.a)(l,2),u=i[0],m=i[1],h=Object(n.useState)([]),f=Object(s.a)(h,2),E=f[0],b=f[1],g=Object(n.useState)("India"),j=Object(s.a)(g,2),y=j[0],O=j[1],N=Object(n.useState)({cases:0,recovered:0,deaths:0}),C=Object(s.a)(N,2),S=C[0],w=C[1];Object(n.useEffect)((function(){fetch("https://corona.lmao.ninja/v2/historical").then((function(e){return e.json()})).then((function(e){console.log("API Response",e);var t=e.map((function(e){return"".concat(e.country).concat(e.province?" - "+e.province:"")}));m(e),b(t.sort())}))}),[]),Object(n.useEffect)((function(){x()}),[u,y]);var x=function(){if(console.log("Generate Chart Data Executed",u),u&&u.length>0){var t=[],a=Object.assign({},e),n=u.filter((function(e){return"".concat(e.country).concat(e.province?" - "+e.province:"")===y}))[0],c=[],r=[],l=[],i=[],s=60*(new Date).getTimezoneOffset()*1e3;for(var m in console.log(JSON.stringify(n.timeline)),n.timeline.cases){var d=new Date(m).getTime()-s,h=n.timeline,v=h.cases[m],f=h.recovered[m],p=h.deaths[m];c.push([d,v]),r.push([d,f]),l.push([d,p]),i.push([d,v-f-p])}t.push({name:"Total Cases",data:c}),t.push({name:"Recovered",data:r}),t.push({name:"Deaths",data:l}),t.push({name:"Active",data:i}),a.series=t,console.log("Map Data",a);var E={cases:c[c.length-1][1],recovered:r[r.length-1][1],deaths:l[l.length-1][1]};o(a),w(E)}};return c.a.createElement("div",{className:"charts-cotainer"},c.a.createElement("div",{className:"chart-header"},E&&c.a.createElement(p,{selectedCountry:y,countries:E,onCountryChnage:function(e){console.log("Country Changed to ",e),O(e)}})),c.a.createElement(v.a,{highcharts:d.a,constructorType:"stockChart",options:r}),y&&S&&function(e){var t=e.cases,a=e.recovered,n=e.deaths;return c.a.createElement("div",{className:"selected-country"},c.a.createElement("h3",null,y),c.a.createElement("div",{className:"data"},c.a.createElement("div",{className:"cases"},c.a.createElement("p",null,"Total"),c.a.createElement("p",null,Number(t).toLocaleString())),c.a.createElement("div",{className:"recovered"},c.a.createElement("p",null,"Recovered"),c.a.createElement("p",null,Number(a).toLocaleString())),c.a.createElement("div",{className:"deaths"},c.a.createElement("p",null,"Deaths"),c.a.createElement("p",null,Number(n).toLocaleString())),c.a.createElement("div",{className:"active"},c.a.createElement("p",null,"Active"),c.a.createElement("p",null,Number(t-a-n).toLocaleString()))))}(S))},b=a(6);var g=function(){return c.a.createElement("div",null,"This is About Page")};var j=function(){return c.a.createElement("div",null,"Contcat Page")};var y=function(){return c.a.createElement(l.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(i,null),c.a.createElement(u,null),c.a.createElement(b.c,null,c.a.createElement(b.a,{exact:!0,path:"/covid19",component:E}),c.a.createElement(b.a,{exact:!0,path:"/covid19/about",component:g}),c.a.createElement(b.a,{exact:!0,path:"/covid19/contact",component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.339a9fa9.chunk.js.map